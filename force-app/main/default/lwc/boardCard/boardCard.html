<!--
  @description       : individual card container
  @author            : daniel@hyphen8.com
  @last modified on  : 16/02/2021
  @last modified by  : daniel@hyphen8.com
  Modifications Log 
  Ver   Date         Author               Modification
  1.0   19/01/2021   daniel@hyphen8.com   Initial Version
-->
<template>
    
    <div class="cardContainer">
            
        <div class="mainbody" data-target-id={card.cardId} key={card.cardId} onclick={handleViewCard}>
            <div class="body">
                <span class="cardCardTitle">
                    <strong>#{card.cardNumber}</strong> {card.cardName}
                </span>
            </div>

            <c-card-date-element
                card={card}>
            </c-card-date-element>

            <div class="slds-m-top_medium">
                <c-card-members
                        card-members={card.members}
                        display-add-member-icon="false">
                </c-card-members>
            </div>

            <div class="cardHeader slds-m-top_medium">
                <c-card-tags
                    tags={card.tags}>
                </c-card-tags>
            </div>
        </div>
            
            
            <div style="float:right">
                
                <lightning-button variant="base" data-target-id="Add tag" value={card.cardId} onclick={handleManageTags} icon-name="utility:quote" title="Add Tag"></lightning-button>
                <lightning-button variant="base" data-target-id="Add member" value={card.cardId} onclick={handleTimeSubmission} icon-name="utility:adduser" title="Add member"></lightning-button>
                <lightning-button variant="base" data-target-id="Add files" value={card.cardId} onclick={handleTimeSubmission} icon-name="utility:upload" title="Add files"></lightning-button>
                <lightning-button variant="base" data-target-id="Add comment" value={card.cardId} onclick={handleTimeSubmission} icon-name="utility:quick_text" title="Add Comment"></lightning-button>
                <lightning-button variant="base" data-target-id="Time" value={card.cardId} onclick={handleTimeSubmission} icon-name="utility:clock" title="Log time against this card"></lightning-button>
                <lightning-button variant="base" data-target-id="Archived"  value={card.cardId} onclick={handleDeleteArchive} icon-name="utility:archive" title="Archive this card - can still be retrieved from the archive"></lightning-button>
                <lightning-button variant="base" data-target-id="Deleted" value={card.cardId} onclick={handleDeleteArchive} icon-name="utility:delete" title="Delete this card - it does not completely delete it just removes from view"></lightning-button>
            
            </div>
        
    </div>

    <template if:true={displayBlankSpace}>
        <c-board-blank-card></c-board-blank-card>
    </template>


    <template if:true={displayManageTags}>
        <c-manage-card-tags record-id={card.boardId} current-tags={card.tags}></c-manage-card-tags>
    </template>

    <!-- modal used for displaying a card on click --> 
    <c-board-view-card-modal
                record-id={card.cardId}
                open-modal={viewCardModal}
                onviewmodalclosed={handleCloseCard}>
    </c-board-view-card-modal>

</template>